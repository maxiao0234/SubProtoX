#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
Internationalization Module
Contains language strings for English and Chinese
"""

from flask import session

# Language configuration for internationalization
LANGUAGES = {
    'en': {
        'title': 'SubProtoX',
        'login_title': 'SubProtoX - Login',
        'login_header': 'SubProtoX',
        'login_subtitle': 'Multi-Protocol Clash Subscription Converter',
        'username': 'Username',
        'password': 'Password',
        'login_btn': 'Login',
        'logout_btn': 'Logout',
        'restart_btn': 'Restart Service',
        'main_title': 'ğŸš€ SubProtoX',
        'main_subtitle': 'Convert Proxy Protocols to Clash Format with Smart Routing',
        'features': {
            'ssl': 'ğŸ”’ Secure SSL',
            'realtime': 'âš¡ Real-time',
            'rules': 'ğŸ“‹ Custom Rules',
            'routing': 'ğŸ¯ Smart Routing'
        },
        'tabs': {
            'converter': 'Converter',
            'history': 'History',
            'rules': 'Rules',
            'settings': 'Settings',
            'api': 'API'
        },
        'history': {
            'title': 'ğŸ“œ Conversion History',
            'clear_all': 'Clear All Records',
            'no_records': 'No history records',
            'token': 'Token',
            'subscription_link': 'Subscription Link',
            'created': 'Created',
            'nodes': 'Nodes',
            'view': 'View',
            'copy': 'Copy',
            'download': 'Download',
            'delete': 'Delete',
            'delete_confirm': 'Are you sure to delete this record?',
            'clear_confirm': 'Are you sure to clear all history records?',
            'history_cleared': 'History cleared'
        },
        'rules': {
            'title': 'ğŸ“ Rules Management',
            'create_new': 'Create New Rule',
            'no_description': 'No description',
            'edit': 'Edit',
            'delete': 'Delete',
            'rule_name': 'Rule Name',
            'rule_desc': 'Rule Description',
            'rule_content': 'Rule Content',
            'save': 'Save',
            'cancel': 'Cancel',
            'create_prompt_name': 'Rule name:',
            'create_prompt_desc': 'Rule description:',
            'delete_confirm': 'Are you sure to delete this rule?',
            'create_success': 'Rule created successfully',
            'update_success': 'Rule updated successfully',
            'delete_success': 'Delete successful',
            'name_empty': 'Rule name cannot be empty',
            'content_empty': 'Rule content cannot be empty'
        },
        'settings': {
            'title': 'âš™ï¸ Settings',
            'page_title': 'System Settings',
            'page_subtitle': 'Configure server, security, and application preferences',
            'system_config': 'System Configuration',
            'basic_service': 'Basic Service Configuration',
            'ssl_https_config': 'SSL/HTTPS Configuration',
            'logging_monitoring': 'Logging & Monitoring',
            'debug_mode': 'Debug Mode',
            'server_port': 'Server Port',
            'listen_address': 'Listen Address',
            'ssl_cert_path': 'SSL Certificate Path',
            'ssl_key_path': 'SSL Key Path',
            'enable_debug': 'Enable Debug Mode',
            'save_system': 'Save System Settings',
            'log_level': 'Log Level',
            'log_level_hint': 'Set application logging level (DEBUG provides most details)',
            'log_file': 'Log File Path',
            'log_file_hint': 'Leave empty to log to console only',
            'enable_access_log': 'Enable Access Logging',
            'access_log_hint': 'Log all HTTP requests (useful for monitoring and debugging)',
            'debug_warning_title': 'Warning',
            'debug_warning_1': 'Debug mode exposes sensitive information',
            'debug_warning_2': 'Only use in development environment',
            'debug_warning_3': 'Disable before deployment',
            'account_settings': 'Account Settings',
            'current_password': 'Current Password (For verification)',
            'new_username': 'New Username (Optional)',
            'new_password': 'New Password (Optional)',
            'confirm_password': 'Confirm New Password',
            'update_account': 'Update Account',
            'current_info': 'Current Account Info:',
            'security_tips': 'Security Tips:',
            'conversion_settings': 'Conversion Settings',
            'max_proxies': 'Max Proxies Per Config',
            'conv_timeout': 'Conversion Timeout (seconds)',
            'user_agent': 'User Agent',
            'save_conversion': 'Save Conversion Settings',
            'db_maintenance': 'Database Maintenance',
            'history_records': 'History Records',
            'clean_old_desc': 'Clean up old conversion records',
            'clean_old': 'Clean Old Records',
            'db_optimize': 'Database Optimization',
            'optimize_desc': 'Optimize database performance',
            'optimize_db': 'Optimize DB',
            'export_backup': 'Export Backup',
            'backup_desc': 'Export database backup',
            'export': 'Export Backup'
        },
        'converter': {
            'page_title': 'Convert to Clash Subscription',
            'page_subtitle': 'Transform your proxy configurations into Clash-compatible format',
            'select_conversion_mode': 'Select Conversion Mode',
            'proxy_links': 'Proxy Links',
            'proxy_links_desc': 'Convert individual proxy links (vless, vmess, trojan, ss) into Clash configuration. You can edit node names before generating.',
            'support_node_editing': 'Support node editing',
            'subscription_url': 'Subscription URL',
            'subscription_url_desc': 'Convert an existing subscription URL directly into Clash format. Quick and convenient for bulk imports.',
            'one_step_conversion': 'One-step conversion',
            'paste_proxy_links': 'Paste Your Proxy Links',
            'paste_subscription_url': 'Paste Your Subscription URL',
            'basic_configuration': 'Basic Configuration',
            'subscription_settings': 'Subscription Settings',
            'custom_name_hint': 'Custom name for your Clash subscription',
            'rule_types': 'Rule Types:',
            'built_in': 'Built-in',
            'custom': 'Custom',
            'auto_update': 'Auto-Update',
            'update_interval': 'Update Interval',
            'traffic_limit': 'Traffic Limit (GB)',
            'enable_auto_update': 'Enable automatic subscription updates',
            'enable_periodic_refresh': 'Enable periodic refresh',
            'refresh_frequency': 'Refresh frequency',
            'hours': 'hours',
            'unlimited': 'Unlimited',
            'zero_unlimited': '0 = âˆ unlimited',
            'subscription_link': 'Subscription Link',
            'one_link_per_line': 'One link per line, supports vless, vmess, trojan, shadowsocks',
            'interval_minutes': 'Minutes',
            'interval_hours': 'Hours',
            'interval_days': 'Days',
            'interval_zero_no_update': '0 = No auto-update',
            'link_title': 'ğŸ”— Link Conversion',
            'link_input_label': 'Enter Vless/Vmess/Trojan links (one per line):',
            'config_name': 'Configuration Name:',
            'config_placeholder': 'e.g.: My Configuration',
            'config_default': 'My Subscription Config',
            'rule_template': 'Select Rules:',
            'convert_btn': 'Convert to Clash Subscription',
            'node_preview': 'ğŸ“‹ Node Preview (Editable node names)',
            'node_type': 'Type:',
            'node_server': 'Server:',
            'node_name': 'Node Name:',
            'generate_btn': 'Generate Final Configuration',
            'sub_title': 'ğŸ“¦ Subscription Conversion',
            'sub_input_label': 'Enter subscription link:',
            'sub_config_name': 'Configuration Name:',
            'sub_placeholder': 'e.g.: Airport Subscription',
            'sub_default': 'Subscription Config',
            'sub_convert_btn': 'Convert Subscription',
            'result_title': 'Conversion Result:',
            'copy_btn': 'Copy Link',
            'download_btn': 'Download Configuration'
        },
        'rule_types': {
            'default': 'Balanced Rules',
            'default_zh': 'Balanced Rules (Chinese Interface)',
            'research': 'Research & Academic Rules',
            'minimal': 'Minimal Rule Set'
        },
        'history': {
            'page_title': 'Conversion History',
            'page_subtitle': 'View and manage your generated Clash subscriptions',
            'history_records': 'History Records',
            'token': 'Token',
            'subscription_link': 'Subscription Link',
            'created': 'Created',
            'nodes': 'Nodes',
            'view': 'View',
            'copy': 'Copy',
            'download': 'Download',
            'delete': 'Delete',
            'config_name': 'Config Name',
            'proxies_count': 'Proxies',
            'created_at': 'Created',
            'actions': 'Actions',
            'copy_link': 'Copy Link',
            'clear_all': 'Clear All',
            'no_history': 'No conversion history yet',
            'confirm_delete': 'Are you sure you want to delete this configuration?',
            'confirm_clear': 'Are you sure you want to clear all history?'
        },
        'alerts': {
            'enter_links': 'Please enter at least one link',
            'parse_failed': 'Parse failed: ',
            'no_nodes': 'No valid nodes parsed',
            'config_failed': 'Configuration generation failed: ',
            'enter_sub': 'Please enter subscription link',
            'convert_failed': 'Conversion failed: ',
            'link_copied': 'Link copied',
            'unknown_error': 'Unknown error',
            'restart_confirm': 'Are you sure to restart the service? This will temporarily interrupt the service.',
            'restarting': 'Restarting Service...',
            'restart_wait': 'Please wait, the service is restarting',
            'modal_restart_title': 'Restart Service',
            'modal_restart_message': 'Are you sure to restart the service? This will temporarily interrupt the service.',
            'modal_restart_confirm': 'Restart',
            'modal_clear_title': 'Clear All History',
            'modal_clear_message': 'Are you sure to clear all history records? This action cannot be undone.',
            'modal_clear_confirm': 'Clear All',
            'modal_delete_history_title': 'Delete History Record',
            'modal_delete_history_message': 'Are you sure to delete this history record?',
            'modal_delete_confirm': 'Delete',
            'modal_restore_title': 'Restore Rule Template',
            'modal_restore_message': 'This will reset the rule content to default. Are you sure?',
            'modal_restore_confirm': 'Restore',
            'modal_save_title': 'Save Changes',
            'modal_save_message': 'Are you sure to save these changes?',
            'modal_save_confirm': 'Save',
            'modal_template_imported': 'Template Imported',
            'modal_template_imported_message': 'Template has been successfully imported!',
            'modal_ok': 'OK',
            'modal_cancel': 'Cancel',
            'modal_save_settings_title': 'Save System Settings',
            'modal_save_settings_message': 'Save the system configuration changes?',
            'modal_settings_saved_title': 'Settings Saved',
            'modal_settings_saved_message': 'Settings saved successfully. Restart service to apply changes.',
            'modal_restart_now_title': 'Restart Service',
            'modal_restart_now_message': 'Restart service now to apply the new settings?',
            'modal_update_account_title': 'Update Account',
            'modal_update_account_message': 'Update account credentials? You will need to login again.',
            'modal_account_updated_title': 'Account Updated',
            'modal_account_updated_message': 'Account updated successfully. Please login again.',
            'modal_save_conversion_title': 'Save Conversion Settings',
            'modal_save_conversion_message': 'Save the conversion configuration changes?',
            'modal_conversion_saved_title': 'Settings Saved',
            'modal_conversion_saved_message': 'Conversion settings saved successfully.',
            'modal_clean_records_title': 'Clean Old Records',
            'modal_clean_records_message': 'Delete old conversion history records? This cannot be undone.',
            'modal_records_cleaned_title': 'Records Cleaned',
            'modal_records_cleaned_message': 'Old records have been cleaned successfully.',
            'modal_optimize_db_title': 'Optimize Database',
            'modal_optimize_db_message': 'Optimize database performance? This may take a moment.',
            'modal_db_optimized_title': 'Database Optimized',
            'modal_db_optimized_message': 'Database has been optimized successfully.',
            'modal_export_backup_title': 'Export Backup',
            'modal_export_backup_message': 'Export database backup file?',
            'modal_backup_exported_title': 'Backup Exported',
            'modal_backup_exported_message': 'Database backup has been exported successfully.',
            'history_clear_failed': 'Failed to clear history',
            'rule_get_failed': 'Failed to get rule: ',
            'rule_create_failed': 'Failed to create rule: ',
            'restart_failed': 'Failed to restart service: '
        },
        'api': {
            'page_title': 'API Documentation',
            'page_subtitle': 'RESTful API integration guide for developers',
            'auth_required': 'Authentication Required',
            'auth_guide': 'Authentication Guide',
            'auth_protected': 'Protected',
            'auth_public': 'Public',
            'authenticated_endpoints': 'Authenticated Endpoints',
            'authenticated_endpoints_desc': 'Login via <code>/login</code> to establish session before calling.',
            'public_access': 'Public Access',
            'public_access_desc': 'Only <code>GET /clash/{token}</code> for Clash subscriptions.',
            'built_in_templates': 'Built-in Rule Templates',
            'quick_tips': 'Quick Tips',
            'quick_tips_session': 'Session-based authentication',
            'quick_tips_cookie': 'Cookie support required',
            'quick_tips_default': 'Default: <code>admin</code>/<code>admin</code>',
            'endpoint_1_title': 'Parse Proxy Links',
            'endpoint_1_desc': 'Parse proxy links (VLESS, VMess, Trojan, Shadowsocks) and extract node information.',
            'endpoint_2_title': 'Generate Clash Configuration',
            'endpoint_2_desc': 'Generate Clash YAML configuration from parsed nodes with custom rule template.',
            'endpoint_3_title': 'Convert Subscription URL',
            'endpoint_3_desc': 'Fetch and convert external subscription URL (base64 or plain text) to Clash format.',
            'endpoint_4_title': 'Get Clash Configuration (Public)',
            'endpoint_4_desc': 'Retrieve generated Clash YAML configuration. No authentication required - use this URL in your Clash client.',
            'description': 'Description:',
            'request_body': 'Request Body:',
            'query_parameters': 'Query Parameters:',
            'path_parameters': 'Path Parameters:',
            'response': 'Response:',
            'example': 'Example:',
            'response_yaml_headers': 'Returns YAML configuration with subscription metadata headers:',
            'history_management': 'History Management',
            'history_get_all': 'Get all conversion history records',
            'history_delete_one': 'Delete specific history record by token',
            'history_clear_all': 'Clear all history records',
            'rules_management': 'Rules Management',
            'rules_list_all': 'List all available routing rules (built-in + custom)',
            'rules_create': 'Create new custom routing rule',
            'rules_get_one': 'Get specific rule details by ID',
            'rules_update': 'Update existing custom rule',
            'rules_delete': 'Delete custom rule',
            'template_default': 'Default optimized - Balanced routing rules',
            'template_default_zh': 'Default optimized (Chinese interface) - Balanced routing rules',
            'template_research': 'Academic/research optimized - prioritizes scholarly databases and research resources',
            'template_minimal': 'Minimal rule set - basic routing with fewer rules for simplicity',
            'copy': 'Copy',
            'copied': 'Copied!'
        },
        'rules_page': {
            'page_title': 'Rules Management',
            'page_subtitle': 'Customize routing rules and manage templates',
            'built_in_templates': 'Built-in Templates',
            'custom_rules': 'Custom Rules',
            'rule_editing_guide': 'Rule Editing Guide',
            'built_in_desc': 'Only content editable. Use "Restore" to reset.',
            'custom_desc': 'Fully customizable. Edit freely.',
            'quick_tips': 'Quick Tips',
            'quick_tip_1': 'Use DOMAIN-SUFFIX for domain matching',
            'quick_tip_2': 'Use IP-CIDR for IP range matching',
            'quick_tip_3': 'Rules are matched in order from top to bottom',
            'rule_syntax_reference': 'Rule Syntax Reference',
            'syntax_domain': 'DOMAIN',
            'syntax_domain_desc': 'Match exact domain',
            'syntax_domain_suffix': 'DOMAIN-SUFFIX',
            'syntax_domain_suffix_desc': 'Match domain and all subdomains',
            'syntax_ip_cidr': 'IP-CIDR',
            'syntax_ip_cidr_desc': 'Match IP address range',
            'syntax_domain_matching': 'Domain Matching',
            'syntax_ip_geo_matching': 'IP & Geo Matching',
            'syntax_advanced_rules': 'Advanced Rules',
            'syntax_match_wildcard': 'Match *.google.com',
            'syntax_exact_match': 'Exact match',
            'syntax_private_ip': 'Private IP',
            'syntax_china_ips': 'China IPs',
            'quick_tip_one_rule': 'One rule per line, use',
            'quick_tip_for_comments': 'for comments',
            'quick_tip_top_to_bottom': 'Rules are matched from top to bottom',
            'quick_tip_end_with_match': 'Always end with',
            'quick_tip_as_fallback': 'as fallback',
            'syntax_by_process': 'By process',
            'syntax_catch_all': 'Catch-all',
            'rule_name': 'Rule Name',
            'rule_description': 'Rule Description',
            'rule_content': 'Rule Content',
            'restore': 'Restore',
            'no_custom_rules': 'No custom rules yet. Create your first custom rule!'
        }
    },
    'zh': {
        'title': 'SubProtoX',
        'login_title': 'SubProtoX - ç™»å½•',
        'login_header': 'SubProtoX',
        'login_subtitle': 'å¤šåè®® Clash è®¢é˜…è½¬æ¢å¹³å°',
        'username': 'ç”¨æˆ·å',
        'password': 'å¯†ç ',
        'login_btn': 'ç™»å½•',
        'logout_btn': 'é€€å‡ºç™»å½•',
        'restart_btn': 'é‡å¯æœåŠ¡',
        'main_title': 'ğŸš€ SubProtoX',
        'main_subtitle': 'å°†ä»£ç†åè®®è½¬æ¢ä¸º Clash æ ¼å¼ï¼Œæ”¯æŒæ™ºèƒ½åˆ†æµ',
        'features': {
            'ssl': 'ğŸ”’ SSL å®‰å…¨ä¼ è¾“',
            'realtime': 'âš¡ å®æ—¶è½¬æ¢',
            'rules': 'ğŸ“‹ è‡ªå®šä¹‰è§„åˆ™',
            'routing': 'ğŸ¯ æ™ºèƒ½åˆ†æµ'
        },
        'tabs': {
            'converter': 'è½¬æ¢å™¨',
            'history': 'å†å²',
            'rules': 'è§„åˆ™',
            'settings': 'è®¾ç½®',
            'api': 'API'
        },
        'history': {
            'title': 'ğŸ“œ è½¬æ¢å†å²',
            'clear_all': 'æ¸…ç©ºæ‰€æœ‰è®°å½•',
            'no_records': 'æš‚æ— å†å²è®°å½•',
            'token': 'ä»¤ç‰Œ',
            'subscription_link': 'è®¢é˜…é“¾æ¥',
            'created': 'åˆ›å»ºæ—¶é—´',
            'nodes': 'èŠ‚ç‚¹æ•°',
            'view': 'æŸ¥çœ‹',
            'copy': 'å¤åˆ¶',
            'download': 'ä¸‹è½½',
            'delete': 'åˆ é™¤',
            'delete_confirm': 'ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ',
            'clear_confirm': 'ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿ',
            'history_cleared': 'å†å²è®°å½•å·²æ¸…ç©º'
        },
        'rules': {
            'title': 'ğŸ“ è§„åˆ™ç®¡ç†',
            'create_new': 'åˆ›å»ºæ–°è§„åˆ™',
            'no_description': 'æš‚æ— æè¿°',
            'edit': 'ç¼–è¾‘',
            'delete': 'åˆ é™¤',
            'rule_name': 'è§„åˆ™åç§°',
            'rule_desc': 'è§„åˆ™æè¿°',
            'rule_content': 'è§„åˆ™å†…å®¹',
            'save': 'ä¿å­˜',
            'cancel': 'å–æ¶ˆ',
            'create_prompt_name': 'è§„åˆ™åç§°ï¼š',
            'create_prompt_desc': 'è§„åˆ™æè¿°ï¼š',
            'delete_confirm': 'ç¡®å®šè¦åˆ é™¤è¿™æ¡è§„åˆ™å—ï¼Ÿ',
            'create_success': 'è§„åˆ™åˆ›å»ºæˆåŠŸ',
            'update_success': 'è§„åˆ™æ›´æ–°æˆåŠŸ',
            'delete_success': 'åˆ é™¤æˆåŠŸ',
            'name_empty': 'è§„åˆ™åç§°ä¸èƒ½ä¸ºç©º',
            'content_empty': 'è§„åˆ™å†…å®¹ä¸èƒ½ä¸ºç©º'
        },
        'settings': {
            'title': 'âš™ï¸ è®¾ç½®',
            'page_title': 'ç³»ç»Ÿè®¾ç½®',
            'page_subtitle': 'é…ç½®æœåŠ¡å™¨ã€å®‰å…¨æ€§å’Œåº”ç”¨ç¨‹åºé¦–é€‰é¡¹',
            'system_config': 'ç³»ç»Ÿé…ç½®',
            'basic_service': 'åŸºç¡€æœåŠ¡é…ç½®',
            'ssl_https_config': 'SSL/HTTPSé…ç½®',
            'logging_monitoring': 'æ—¥å¿—ä¸ç›‘æ§',
            'debug_mode': 'è°ƒè¯•æ¨¡å¼',
            'server_port': 'æœåŠ¡å™¨ç«¯å£',
            'listen_address': 'ç›‘å¬åœ°å€',
            'ssl_cert_path': 'SSLè¯ä¹¦è·¯å¾„',
            'ssl_key_path': 'SSLå¯†é’¥è·¯å¾„',
            'enable_debug': 'å¯ç”¨è°ƒè¯•æ¨¡å¼',
            'save_system': 'ä¿å­˜ç³»ç»Ÿè®¾ç½®',
            'log_level': 'æ—¥å¿—çº§åˆ«',
            'log_level_hint': 'è®¾ç½®åº”ç”¨ç¨‹åºæ—¥å¿—çº§åˆ«ï¼ˆDEBUGæä¾›æœ€è¯¦ç»†çš„ä¿¡æ¯ï¼‰',
            'log_file': 'æ—¥å¿—æ–‡ä»¶è·¯å¾„',
            'log_file_hint': 'ç•™ç©ºåˆ™ä»…è¾“å‡ºåˆ°æ§åˆ¶å°',
            'enable_access_log': 'å¯ç”¨è®¿é—®æ—¥å¿—',
            'access_log_hint': 'è®°å½•æ‰€æœ‰HTTPè¯·æ±‚ï¼ˆç”¨äºç›‘æ§å’Œè°ƒè¯•ï¼‰',
            'debug_warning_title': 'è­¦å‘Š',
            'debug_warning_1': 'è°ƒè¯•æ¨¡å¼ä¼šæš´éœ²æ•æ„Ÿä¿¡æ¯',
            'debug_warning_2': 'ä»…åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨',
            'debug_warning_3': 'éƒ¨ç½²å‰è¯·ç¦ç”¨',
            'account_settings': 'è´¦æˆ·è®¾ç½®',
            'current_password': 'å½“å‰å¯†ç ï¼ˆç”¨äºéªŒè¯ï¼‰',
            'new_username': 'æ–°ç”¨æˆ·åï¼ˆå¯é€‰ï¼‰',
            'new_password': 'æ–°å¯†ç ï¼ˆå¯é€‰ï¼‰',
            'confirm_password': 'ç¡®è®¤æ–°å¯†ç ',
            'update_account': 'æ›´æ–°è´¦æˆ·',
            'current_info': 'å½“å‰è´¦æˆ·ä¿¡æ¯ï¼š',
            'security_tips': 'å®‰å…¨æç¤ºï¼š',
            'conversion_settings': 'è½¬æ¢è®¾ç½®',
            'max_proxies': 'æ¯ä¸ªé…ç½®æœ€å¤§ä»£ç†æ•°',
            'conv_timeout': 'è½¬æ¢è¶…æ—¶ï¼ˆç§’ï¼‰',
            'user_agent': 'ç”¨æˆ·ä»£ç†',
            'save_conversion': 'ä¿å­˜è½¬æ¢è®¾ç½®',
            'db_maintenance': 'æ•°æ®åº“ç»´æŠ¤',
            'history_records': 'å†å²è®°å½•',
            'clean_old_desc': 'æ¸…ç†æ—§çš„è½¬æ¢è®°å½•',
            'clean_old': 'æ¸…ç†æ—§è®°å½•',
            'db_optimize': 'æ•°æ®åº“ä¼˜åŒ–',
            'optimize_desc': 'ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½',
            'optimize_db': 'ä¼˜åŒ–æ•°æ®åº“',
            'export_backup': 'å¯¼å‡ºå¤‡ä»½',
            'backup_desc': 'å¯¼å‡ºæ•°æ®åº“å¤‡ä»½',
            'export': 'å¯¼å‡ºå¤‡ä»½'
        },
        'converter': {
            'page_title': 'è½¬æ¢ä¸º Clash è®¢é˜…',
            'page_subtitle': 'å°†æ‚¨çš„ä»£ç†é…ç½®è½¬æ¢ä¸º Clash å…¼å®¹æ ¼å¼',
            'select_conversion_mode': 'é€‰æ‹©è½¬æ¢æ¨¡å¼',
            'proxy_links': 'ä»£ç†é“¾æ¥',
            'proxy_links_desc': 'å°†å•ä¸ªä»£ç†é“¾æ¥ï¼ˆvlessã€vmessã€trojanã€ssï¼‰è½¬æ¢ä¸º Clash é…ç½®ã€‚æ‚¨å¯ä»¥åœ¨ç”Ÿæˆå‰ç¼–è¾‘èŠ‚ç‚¹åç§°ã€‚',
            'support_node_editing': 'æ”¯æŒèŠ‚ç‚¹ç¼–è¾‘',
            'subscription_url': 'è®¢é˜…é“¾æ¥',
            'subscription_url_desc': 'ç›´æ¥å°†ç°æœ‰è®¢é˜…é“¾æ¥è½¬æ¢ä¸º Clash æ ¼å¼ã€‚å¿«é€Ÿä¾¿æ·çš„æ‰¹é‡å¯¼å…¥ã€‚',
            'one_step_conversion': 'ä¸€é”®è½¬æ¢',
            'paste_proxy_links': 'ç²˜è´´æ‚¨çš„ä»£ç†é“¾æ¥',
            'paste_subscription_url': 'ç²˜è´´æ‚¨çš„è®¢é˜…é“¾æ¥',
            'basic_configuration': 'åŸºç¡€é…ç½®',
            'subscription_settings': 'è®¢é˜…è®¾ç½®',
            'custom_name_hint': 'è‡ªå®šä¹‰æ‚¨çš„ Clash è®¢é˜…åç§°',
            'rule_types': 'è§„åˆ™ç±»å‹ï¼š',
            'built_in': 'å†…ç½®',
            'custom': 'è‡ªå®šä¹‰',
            'auto_update': 'è‡ªåŠ¨æ›´æ–°',
            'update_interval': 'æ›´æ–°é—´éš”',
            'traffic_limit': 'æµé‡é™åˆ¶ (GB)',
            'enable_auto_update': 'å¯ç”¨è®¢é˜…è‡ªåŠ¨æ›´æ–°',
            'enable_periodic_refresh': 'å¯ç”¨å®šæœŸåˆ·æ–°',
            'refresh_frequency': 'åˆ·æ–°é¢‘ç‡',
            'hours': 'å°æ—¶',
            'unlimited': 'ä¸é™',
            'zero_unlimited': '0 = âˆ æ— é™åˆ¶',
            'subscription_link': 'è®¢é˜…é“¾æ¥',
            'one_link_per_line': 'æ¯è¡Œä¸€ä¸ªé“¾æ¥ï¼Œæ”¯æŒ vlessã€vmessã€trojanã€shadowsocks',
            'interval_minutes': 'åˆ†é’Ÿ',
            'interval_hours': 'å°æ—¶',
            'interval_days': 'å¤©',
            'interval_zero_no_update': '0 = ä¸è‡ªåŠ¨æ›´æ–°',
            'link_title': 'ğŸ”— é“¾æ¥è½¬æ¢',
            'link_input_label': 'è¾“å…¥ Vless/Vmess/Trojan é“¾æ¥ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰:',
            'config_name': 'é…ç½®æ–‡ä»¶åç§°:',
            'config_placeholder': 'ä¾‹å¦‚ï¼šæˆ‘çš„é…ç½®',
            'config_default': 'æˆ‘çš„è®¢é˜…é…ç½®',
            'rule_template': 'é€‰æ‹©è§„åˆ™:',
            'convert_btn': 'è½¬æ¢ä¸º Clash è®¢é˜…',
            'node_preview': 'ğŸ“‹ èŠ‚ç‚¹é¢„è§ˆ (å¯ç¼–è¾‘èŠ‚ç‚¹åç§°)',
            'node_type': 'ç±»å‹:',
            'node_server': 'æœåŠ¡å™¨:',
            'node_name': 'èŠ‚ç‚¹åç§°:',
            'generate_btn': 'ç”Ÿæˆæœ€ç»ˆé…ç½®',
            'sub_title': 'ğŸ“¦ è®¢é˜…è½¬æ¢',
            'sub_input_label': 'è¾“å…¥è®¢é˜…é“¾æ¥:',
            'sub_config_name': 'é…ç½®æ–‡ä»¶åç§°:',
            'sub_placeholder': 'ä¾‹å¦‚ï¼šæœºåœºè®¢é˜…',
            'sub_default': 'è®¢é˜…é…ç½®',
            'sub_convert_btn': 'è½¬æ¢è®¢é˜…',
            'result_title': 'è½¬æ¢ç»“æœ:',
            'copy_btn': 'å¤åˆ¶é“¾æ¥',
            'download_btn': 'ä¸‹è½½é…ç½®'
        },
        'rule_types': {
            'default': 'å‡è¡¡è§„åˆ™',
            'default_zh': 'å‡è¡¡è§„åˆ™ï¼ˆä¸­æ–‡ç•Œé¢ï¼‰',
            'research': 'ç§‘ç ”ä¸å­¦æœ¯è§„åˆ™',
            'minimal': 'æœ€å°è§„åˆ™é›†'
        },
        'history': {
            'page_title': 'è½¬æ¢å†å²',
            'page_subtitle': 'æŸ¥çœ‹å’Œç®¡ç†æ‚¨ç”Ÿæˆçš„ Clash è®¢é˜…',
            'history_records': 'å†å²è®°å½•',
            'token': 'ä»¤ç‰Œ',
            'subscription_link': 'è®¢é˜…é“¾æ¥',
            'created': 'åˆ›å»ºæ—¶é—´',
            'nodes': 'èŠ‚ç‚¹æ•°',
            'view': 'æŸ¥çœ‹',
            'copy': 'å¤åˆ¶',
            'download': 'ä¸‹è½½',
            'delete': 'åˆ é™¤',
            'config_name': 'é…ç½®åç§°',
            'proxies_count': 'ä»£ç†æ•°',
            'created_at': 'åˆ›å»ºæ—¶é—´',
            'actions': 'æ“ä½œ',
            'copy_link': 'å¤åˆ¶é“¾æ¥',
            'clear_all': 'æ¸…ç©ºå…¨éƒ¨',
            'no_history': 'æš‚æ— è½¬æ¢å†å²',
            'confirm_delete': 'ç¡®å®šè¦åˆ é™¤æ­¤é…ç½®å—ï¼Ÿ',
            'confirm_clear': 'ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿ'
        },
        'alerts': {
            'enter_links': 'è¯·è¾“å…¥è‡³å°‘ä¸€ä¸ªé“¾æ¥',
            'parse_failed': 'è§£æå¤±è´¥: ',
            'no_nodes': 'æ²¡æœ‰è§£æåˆ°æœ‰æ•ˆçš„èŠ‚ç‚¹',
            'config_failed': 'ç”Ÿæˆé…ç½®å¤±è´¥: ',
            'enter_sub': 'è¯·è¾“å…¥è®¢é˜…é“¾æ¥',
            'convert_failed': 'è½¬æ¢å¤±è´¥: ',
            'link_copied': 'é“¾æ¥å·²å¤åˆ¶',
            'unknown_error': 'æœªçŸ¥é”™è¯¯',
            'restart_confirm': 'ç¡®å®šè¦é‡å¯æœåŠ¡å—ï¼Ÿè¿™ä¼šæš‚æ—¶ä¸­æ–­æœåŠ¡ã€‚',
            'restarting': 'æ­£åœ¨é‡å¯æœåŠ¡...',
            'restart_wait': 'è¯·ç¨å€™ï¼ŒæœåŠ¡æ­£åœ¨é‡å¯',
            'modal_restart_title': 'é‡å¯æœåŠ¡',
            'modal_restart_message': 'ç¡®å®šè¦é‡å¯æœåŠ¡å—ï¼Ÿè¿™ä¼šæš‚æ—¶ä¸­æ–­æœåŠ¡ã€‚',
            'modal_restart_confirm': 'é‡å¯',
            'modal_clear_title': 'æ¸…ç©ºæ‰€æœ‰å†å²',
            'modal_clear_message': 'ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚',
            'modal_clear_confirm': 'æ¸…ç©ºå…¨éƒ¨',
            'modal_delete_history_title': 'åˆ é™¤å†å²è®°å½•',
            'modal_delete_history_message': 'ç¡®å®šè¦åˆ é™¤è¿™æ¡å†å²è®°å½•å—ï¼Ÿ',
            'modal_delete_confirm': 'åˆ é™¤',
            'modal_restore_title': 'æ¢å¤è§„åˆ™æ¨¡æ¿',
            'modal_restore_message': 'è¿™å°†é‡ç½®è§„åˆ™å†…å®¹ä¸ºé»˜è®¤å€¼ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ',
            'modal_restore_confirm': 'æ¢å¤',
            'modal_save_title': 'ä¿å­˜æ›´æ”¹',
            'modal_save_message': 'ç¡®å®šè¦ä¿å­˜è¿™äº›æ›´æ”¹å—ï¼Ÿ',
            'modal_save_confirm': 'ä¿å­˜',
            'modal_template_imported': 'æ¨¡æ¿å·²å¯¼å…¥',
            'modal_template_imported_message': 'æ¨¡æ¿å·²æˆåŠŸå¯¼å…¥ï¼',
            'modal_ok': 'ç¡®å®š',
            'modal_cancel': 'å–æ¶ˆ',
            'modal_save_settings_title': 'ä¿å­˜ç³»ç»Ÿè®¾ç½®',
            'modal_save_settings_message': 'ä¿å­˜ç³»ç»Ÿé…ç½®æ›´æ”¹ï¼Ÿ',
            'modal_settings_saved_title': 'è®¾ç½®å·²ä¿å­˜',
            'modal_settings_saved_message': 'è®¾ç½®ä¿å­˜æˆåŠŸã€‚é‡å¯æœåŠ¡ä»¥åº”ç”¨æ›´æ”¹ã€‚',
            'modal_restart_now_title': 'é‡å¯æœåŠ¡',
            'modal_restart_now_message': 'ç«‹å³é‡å¯æœåŠ¡ä»¥åº”ç”¨æ–°è®¾ç½®ï¼Ÿ',
            'modal_update_account_title': 'æ›´æ–°è´¦æˆ·',
            'modal_update_account_message': 'æ›´æ–°è´¦æˆ·å‡­æ®ï¼Ÿæ‚¨éœ€è¦é‡æ–°ç™»å½•ã€‚',
            'modal_account_updated_title': 'è´¦æˆ·å·²æ›´æ–°',
            'modal_account_updated_message': 'è´¦æˆ·æ›´æ–°æˆåŠŸã€‚è¯·é‡æ–°ç™»å½•ã€‚',
            'modal_save_conversion_title': 'ä¿å­˜è½¬æ¢è®¾ç½®',
            'modal_save_conversion_message': 'ä¿å­˜è½¬æ¢é…ç½®æ›´æ”¹ï¼Ÿ',
            'modal_conversion_saved_title': 'è®¾ç½®å·²ä¿å­˜',
            'modal_conversion_saved_message': 'è½¬æ¢è®¾ç½®ä¿å­˜æˆåŠŸã€‚',
            'modal_clean_records_title': 'æ¸…ç†æ—§è®°å½•',
            'modal_clean_records_message': 'åˆ é™¤æ—§çš„è½¬æ¢å†å²è®°å½•ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚',
            'modal_records_cleaned_title': 'è®°å½•å·²æ¸…ç†',
            'modal_records_cleaned_message': 'æ—§è®°å½•å·²æˆåŠŸæ¸…ç†ã€‚',
            'modal_optimize_db_title': 'ä¼˜åŒ–æ•°æ®åº“',
            'modal_optimize_db_message': 'ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½ï¼Ÿè¿™å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚',
            'modal_db_optimized_title': 'æ•°æ®åº“å·²ä¼˜åŒ–',
            'modal_db_optimized_message': 'æ•°æ®åº“å·²æˆåŠŸä¼˜åŒ–ã€‚',
            'modal_export_backup_title': 'å¯¼å‡ºå¤‡ä»½',
            'modal_export_backup_message': 'å¯¼å‡ºæ•°æ®åº“å¤‡ä»½æ–‡ä»¶ï¼Ÿ',
            'modal_backup_exported_title': 'å¤‡ä»½å·²å¯¼å‡º',
            'modal_backup_exported_message': 'æ•°æ®åº“å¤‡ä»½å·²æˆåŠŸå¯¼å‡ºã€‚',
            'history_clear_failed': 'æ¸…ç©ºå†å²è®°å½•å¤±è´¥',
            'rule_get_failed': 'è·å–è§„åˆ™å¤±è´¥: ',
            'rule_create_failed': 'åˆ›å»ºè§„åˆ™å¤±è´¥: ',
            'restart_failed': 'é‡å¯æœåŠ¡å¤±è´¥: '
        },
        'api': {
            'page_title': 'API æ–‡æ¡£',
            'page_subtitle': 'å¼€å‘è€… RESTful API é›†æˆæŒ‡å—',
            'auth_required': 'éœ€è¦è®¤è¯',
            'auth_guide': 'è®¤è¯æŒ‡å—',
            'auth_protected': 'éœ€è®¤è¯',
            'auth_public': 'å…¬å¼€',
            'authenticated_endpoints': 'éœ€è®¤è¯çš„ç«¯ç‚¹',
            'authenticated_endpoints_desc': 'é€šè¿‡ <code>/login</code> ç™»å½•å»ºç«‹ä¼šè¯åè°ƒç”¨ã€‚',
            'public_access': 'å…¬å¼€è®¿é—®',
            'public_access_desc': 'ä»… <code>GET /clash/{token}</code> ç”¨äº Clash è®¢é˜…ã€‚',
            'built_in_templates': 'å†…ç½®è§„åˆ™æ¨¡æ¿',
            'quick_tips': 'å¿«é€Ÿæç¤º',
            'quick_tips_session': 'åŸºäºä¼šè¯çš„èº«ä»½éªŒè¯',
            'quick_tips_cookie': 'éœ€è¦Cookieæ”¯æŒ',
            'quick_tips_default': 'é»˜è®¤: <code>admin</code>/<code>admin</code>',
            'endpoint_1_title': 'è§£æä»£ç†é“¾æ¥',
            'endpoint_1_desc': 'è§£æä»£ç†é“¾æ¥ï¼ˆVLESSã€VMessã€Trojanã€Shadowsocksï¼‰å¹¶æå–èŠ‚ç‚¹ä¿¡æ¯ã€‚',
            'endpoint_2_title': 'ç”Ÿæˆ Clash é…ç½®',
            'endpoint_2_desc': 'ä»è§£æçš„èŠ‚ç‚¹å’Œè‡ªå®šä¹‰è§„åˆ™æ¨¡æ¿ç”Ÿæˆ Clash YAML é…ç½®ã€‚',
            'endpoint_3_title': 'è½¬æ¢è®¢é˜…é“¾æ¥',
            'endpoint_3_desc': 'è·å–å¹¶è½¬æ¢å¤–éƒ¨è®¢é˜…é“¾æ¥ï¼ˆbase64 æˆ–çº¯æ–‡æœ¬ï¼‰ä¸º Clash æ ¼å¼ã€‚',
            'endpoint_4_title': 'è·å– Clash é…ç½®ï¼ˆå…¬å¼€ï¼‰',
            'endpoint_4_desc': 'æ£€ç´¢ç”Ÿæˆçš„ Clash YAML é…ç½®ã€‚æ— éœ€è®¤è¯ - åœ¨æ‚¨çš„ Clash å®¢æˆ·ç«¯ä¸­ä½¿ç”¨æ­¤ URLã€‚',
            'description': 'æè¿°ï¼š',
            'request_body': 'è¯·æ±‚ä½“ï¼š',
            'query_parameters': 'æŸ¥è¯¢å‚æ•°ï¼š',
            'path_parameters': 'è·¯å¾„å‚æ•°ï¼š',
            'response': 'å“åº”ï¼š',
            'example': 'ç¤ºä¾‹ï¼š',
            'response_yaml_headers': 'è¿”å›åŒ…å«è®¢é˜…å…ƒæ•°æ®å¤´çš„ YAML é…ç½®ï¼š',
            'history_management': 'å†å²ç®¡ç†',
            'history_get_all': 'è·å–æ‰€æœ‰è½¬æ¢å†å²è®°å½•',
            'history_delete_one': 'æ ¹æ® token åˆ é™¤ç‰¹å®šå†å²è®°å½•',
            'history_clear_all': 'æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•',
            'rules_management': 'è§„åˆ™ç®¡ç†',
            'rules_list_all': 'åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è·¯ç”±è§„åˆ™ï¼ˆå†…ç½® + è‡ªå®šä¹‰ï¼‰',
            'rules_create': 'åˆ›å»ºæ–°çš„è‡ªå®šä¹‰è·¯ç”±è§„åˆ™',
            'rules_get_one': 'æ ¹æ® ID è·å–ç‰¹å®šè§„åˆ™è¯¦æƒ…',
            'rules_update': 'æ›´æ–°ç°æœ‰è‡ªå®šä¹‰è§„åˆ™',
            'rules_delete': 'åˆ é™¤è‡ªå®šä¹‰è§„åˆ™',
            'template_default': 'é»˜è®¤ä¼˜åŒ– - å¹³è¡¡çš„è·¯ç”±è§„åˆ™',
            'template_default_zh': 'é»˜è®¤ä¼˜åŒ–ï¼ˆä¸­æ–‡ç•Œé¢ï¼‰- å¹³è¡¡çš„è·¯ç”±è§„åˆ™',
            'template_research': 'å­¦æœ¯/ç ”ç©¶ä¼˜åŒ– - ä¼˜å…ˆè€ƒè™‘å­¦æœ¯æ•°æ®åº“å’Œç ”ç©¶èµ„æº',
            'template_minimal': 'æœ€å°è§„åˆ™é›† - åŸºæœ¬è·¯ç”±ï¼Œè§„åˆ™æ›´å°‘æ›´ç®€æ´',
            'copy': 'å¤åˆ¶',
            'copied': 'å·²å¤åˆ¶ï¼'
        },
        'rules_page': {
            'page_title': 'è§„åˆ™ç®¡ç†',
            'page_subtitle': 'è‡ªå®šä¹‰è·¯ç”±è§„åˆ™å’Œç®¡ç†æ¨¡æ¿',
            'built_in_templates': 'å†…ç½®æ¨¡æ¿',
            'custom_rules': 'è‡ªå®šä¹‰è§„åˆ™',
            'rule_editing_guide': 'è§„åˆ™ç¼–è¾‘æŒ‡å—',
            'built_in_desc': 'ä»…å¯ç¼–è¾‘å†…å®¹ã€‚ä½¿ç”¨"æ¢å¤"é‡ç½®ã€‚',
            'custom_desc': 'å®Œå…¨å¯å®šåˆ¶ã€‚è‡ªç”±ç¼–è¾‘ã€‚',
            'quick_tips': 'å¿«é€Ÿæç¤º',
            'quick_tip_1': 'ä½¿ç”¨ DOMAIN-SUFFIX è¿›è¡ŒåŸŸååŒ¹é…',
            'quick_tip_2': 'ä½¿ç”¨ IP-CIDR è¿›è¡Œ IP èŒƒå›´åŒ¹é…',
            'quick_tip_3': 'è§„åˆ™æŒ‰ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºåŒ¹é…',
            'rule_syntax_reference': 'è§„åˆ™è¯­æ³•å‚è€ƒ',
            'syntax_domain': 'DOMAIN',
            'syntax_domain_desc': 'ç²¾ç¡®åŒ¹é…åŸŸå',
            'syntax_domain_suffix': 'DOMAIN-SUFFIX',
            'syntax_domain_suffix_desc': 'åŒ¹é…åŸŸååŠæ‰€æœ‰å­åŸŸå',
            'syntax_ip_cidr': 'IP-CIDR',
            'syntax_ip_cidr_desc': 'åŒ¹é… IP åœ°å€èŒƒå›´',
            'syntax_domain_matching': 'åŸŸååŒ¹é…',
            'syntax_ip_geo_matching': 'IP & åœ°ç†åŒ¹é…',
            'syntax_advanced_rules': 'é«˜çº§è§„åˆ™',
            'syntax_match_wildcard': 'åŒ¹é… *.google.com',
            'syntax_exact_match': 'ç²¾ç¡®åŒ¹é…',
            'syntax_private_ip': 'ç§æœ‰ IP',
            'syntax_china_ips': 'ä¸­å›½ IP',
            'quick_tip_one_rule': 'æ¯è¡Œä¸€æ¡è§„åˆ™ï¼Œä½¿ç”¨',
            'quick_tip_for_comments': 'æ·»åŠ æ³¨é‡Š',
            'quick_tip_top_to_bottom': 'è§„åˆ™æŒ‰ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºåŒ¹é…',
            'quick_tip_end_with_match': 'å§‹ç»ˆä»¥',
            'quick_tip_as_fallback': 'ä½œä¸ºåå¤‡',
            'syntax_by_process': 'æŒ‰è¿›ç¨‹',
            'syntax_catch_all': 'å…¨åŒ¹é…',
            'rule_name': 'è§„åˆ™åç§°',
            'rule_description': 'è§„åˆ™æè¿°',
            'rule_content': 'è§„åˆ™å†…å®¹',
            'restore': 'æ¢å¤',
            'no_custom_rules': 'æš‚æ— è‡ªå®šä¹‰è§„åˆ™ã€‚åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰è§„åˆ™ï¼'
        }
    }
}


def get_language():
    """Get current language from session or default to English"""
    return session.get('language', 'en')


def get_text(key, lang=None):
    """Get text for current language"""
    if lang is None:
        lang = get_language()

    # Navigate through nested dictionary keys
    keys = key.split('.')
    text = LANGUAGES.get(lang, LANGUAGES['en'])

    for k in keys:
        text = text.get(k, key)

    return text
